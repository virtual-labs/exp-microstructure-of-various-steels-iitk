<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

    <!-- Add these lines in the <head> section -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

    <title>Steel part of CP diagram</title>
    <style>
        a {
            text-decoration: none;
        }
        .text {
            background-color: yellow;
            border-radius: 21px;
            font-size: 22px;
            margin-left: 50px;
            margin-right: 50px;
            padding: 5px;
        }
        .disclaimer {
            padding: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: red;
        }

        .container {

            display: flex;
            justify-content: center;
            align-items: center;
        }

        .right-side {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
            padding: 80px;
            font-size: 18px;
        }



        /* Update CSS for each point's information box (you can adjust these values based on your preferences) */


        .pointphoto {
            width: 300px;
            height: 220px;
        }


        #options {
            list-style: none;
            /* Remove bullets */
            padding: 0;
            /* Remove default padding */
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            /* Two columns */
            gap: 8px;
            /* Spacing between buttons */
        }

        #options li button {
            display: block;
            padding: 6px 8px;
            background-color: white;
            color: #0dcaf0;
            border: #0dcaf0 1px solid;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            width: 100%;
        }

        #options li button:hover {
            background-color: #0dcaf0;
            color: #0d6efd;
        }

        #options li button:active {
            background-color: #0dcaf0;
            transform: translateY(2px);
        }

        #question {
            font-weight: bold;
        }
    </style>

</head>

<body>
    <button type="button" class="btn btn-outline-info  m-3"><a href="index.html"> Go to main page</a></button>
    <button type="button" class="btn btn-outline-info  m-3"><a href="Simulator1.html">Back</a></button>
    <button type="button" class="btn btn-outline-info  m-3"><a href="Simulator3.html">Next</a></button>
    <h2 class="d-flex justify-content-center align-items-center"> Simulator 2 </h2>
    <p class="d-flex justify-content-center align-items-center text"> Steel Part of the Iron-Carbon Phase Diagram </p>
    <p class="disclaimer">Disclaimer: Please note that the pearlite is not a phase, it is a laminar structure of ferrite
        and cementite. However, since we are differentiating the hypo and hyper eutectoid phase, we have treated
        Pearlite as being one of the "phase", to differentiate between the two. Once again, strictly speaking, "pearlite
        is not a phase"</p>

    <div class="container">
        <div class="row">
            <div class="col-md-8 ">

                <img src="images/Steel part of cp diagram dotted simulator 2 img.png" alt="Graph" usemap="#graphMap">
                <map name="graphMap">
                    <!-- Define clickable points with coordinates and title (name) -->
                    <area alt="1" title="1" href="#" coords="201,135,10" shape="circle">
                    <area alt="2" title="2" href="#" coords="203,271,10" shape="circle">
                    <area alt="3" title="3" href="#" coords="200,301,10" shape="circle">
                    <area alt="4" title="4" href="#" coords="200,442,10" shape="circle">
                    <area alt="5" title="5" href="#" coords="413,272,10" shape="circle">
                    <area alt="6" title="6" href="#" coords="413,443,10" shape="circle">
                    <area alt="7" title="7" href="#" coords="594,134,10" shape="circle">
                    <area alt="8" title="8" href="#" coords="594,270,10" shape="circle">
                    <area alt="9" title="9" href="#" coords="598,446,10" shape="circle">
                </map>

            </div>
            <div class="col-md-4">
                <!--  Showing aflter click  -->
                <div class="right-side">
                    <!-- <i class="fa fa-close d-flex justify-content-end" style="font-size:24px"onclick="hideInfo()"></i> -->
                    <div class="info-box">
                        <p id="pointText"> Click on graph point for more details.</p>
                        <div id="quiz" style="display: none;">
                            <img id="pointImage" src="" alt="Click on graph point to see image" class="pointphoto">
                            <p id="question"></p>
                            <ul id="options">
                                <li><button onclick="checkAnswer(0)">Option 1</button></li>
                                <li><button onclick="checkAnswer(1)">Option 2</button></li>
                                <li><button onclick="checkAnswer(2)">Option 3</button></li>
                                <li><button onclick="checkAnswer(3)">Option 4</button></li>
                            </ul>
                            <p id="result"></p>
                        </div>
                    </div>

                </div>

            </div>
        </div>

    </div>


    <!-- Add this right before the closing </body> tag -->
    <div class="modal fade" id="quizCompletedModal" tabindex="-1" aria-labelledby="quizCompletedModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="quizCompletedModalLabel">Quiz Completed</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Congratulations! You have completed the quiz.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="location.reload()">Restart Quiz</button>
                </div>
            </div>
        </div>
    </div>


    <script>
        const points = [
            {
                imageUrl: "images/point1andpoint5.png",
                text: "Point 1: Please select correct option .",
                questionIndex: 0
            },
            {
                imageUrl: "images/point2.png",
                text: "Point 2 : Please select correct option .",
                questionIndex: 1
            },
            {
                imageUrl: "images/point3.png",
                text: "Point 3 : Please select correct option .",
                questionIndex: 2
            },
            {
                imageUrl: "images/point4.png",
                text: "Point 4 : Please select correct option .",
                questionIndex: 3
            },
            {
                imageUrl: "images/point1andpoint5.png",
                text: "Point 5 : Please select correct option .",
                questionIndex: 4
            },
            {
                imageUrl: "images/point6.png",
                text: "Point 6 : Please select correct option .",
                questionIndex: 5
            },
            {
                imageUrl: "images/point7.png",
                text: "Point 7 : Please select correct option .",
                questionIndex: 6
            },

            {
                imageUrl: "images/point8.png",
                text: "Point 8 : Please select correct option .",
                questionIndex: 7
            },

            {
                imageUrl: "images/point9.png",
                text: "Point 9 : Please select correct option .",
                questionIndex: 8
            },


            // Add more points here...
        ];

        const questions = [
            {
                question: "What phase is represented by “Grey” region ?",
                options: ["Austenite", "Austenite and Ferrite", "Pearlite", "Cementite"],
                correctIndex: 0,
                feedback: "You are correct!"
            },
            {
                question: "What are the phases represented by “Red” and “Grey” colors?",
                options: ["Pearlite and Ferrite ",  "Austenite and Cementite", "Cementite and Pearlite ","Ferrite and Austenite",],
                correctIndex: 3,
                feedback: "You are correct!"
            },
            {
                question: "What are the phases represented by “Red” and “Grey” colors?",
                options: ["Austenite and Cementite", "Pearlite and Ferrite", "Ferrite and Austenite", "Cementite and Pearlite "],
                correctIndex: 2,
                feedback: "You are correct!"
            },
            {
                question: "What phases are represented by the highlighted region and “Red” colored region ?",
                options: ["Austenite and Ferrite", "Ferrite and Cementite", "Pearlite and Cementite", "Pearlite and Ferrite"],
                correctIndex: 3,
                feedback: "You are correct!"
            },
            {
                question: "What phase is represented by “Grey” region ?",
                options: ["Pearlite ", "Ferrite", "Austenite", "Cementite"],
                correctIndex: 2,
                feedback: "You are correct!"
            },
            {
                question: "Which is the phase represented by this microstructure?",
                options: ["Cementite", "Ferrite", "Austenite", "Pearlite"],
                correctIndex: 3,
                feedback: "You are correct!"
            },
            {
                question: "What phase is represented by “Grey” region ?",
                options: ["Ferrite and Cementite", "Ferrite", "Perrlite", "Austenite"],
                correctIndex: 3,
                feedback: "You are correct!"
            },
            {
                question: "What are the phases represented by “Grey” and “Blue” colors?",
                options: ["Austenite and Cementite", "Austenite and Pearlite ", "Pearlite and Cementite", "Ferrite and Pearlite"],
                correctIndex: 0,
                feedback: "You are correct!"
            },
            {
                question: "What phases are represented by highlighted region and “Blue” colored region ?",
                options: ["Ferrite and pearlite", "Austenite and Ferrite", "Pearlite and Cementite", "Austenite and Ferrite"],
                correctIndex: 2,
                feedback: "You are correct!"
            }


            // Add more questions here...
        ];


        let currentPointIndex = 0; // Track the current point being processed
        let currentQuestionIndex = 0; // Track the current question index



        // Function to display the quiz for a specific point
        function showQuizForPoint(pointIndex) {
            const point = points[pointIndex];
            const quizContainer = document.getElementById('quiz');
            const questionElement = document.getElementById('question');
            const optionsList = document.getElementById('options');
            const resultElement = document.getElementById('result');

        

            // Set the image source and text content
            pointImage.src = point.imageUrl;
            pointText.textContent = point.text;

            // Display the quiz
            quizContainer.style.display = 'block';

            // Display the current question
            const question = questions[point.questionIndex];
            questionElement.textContent = question.question;

            // Display the options
            optionsList.innerHTML = question.options.map((option, index) => {
                return `<li><button onclick="checkAnswer(${index})">${option}</button></li>`;
            }).join('');

            // Clear previous result
            resultElement.textContent = '';
        }

        // Function to proceed to the next point and start quiz
        function nextPoint() {
            currentPointIndex++;
            if (currentPointIndex < points.length) {
                showQuizForPoint(currentPointIndex);
            } else {
                // Show the quiz completed modal
                const quizCompletedModal = new bootstrap.Modal(document.getElementById('quizCompletedModal'));
                quizCompletedModal.show();
            }
        }

        function checkAnswer(selectedIndex) {
            const resultElement = document.getElementById('result');
            const question = questions[points[currentPointIndex].questionIndex];
            const correctIndex = question.correctIndex;

            if (selectedIndex === correctIndex) {
                resultElement.textContent = question.feedback;
                resultElement.style.color = 'green';
                setTimeout(() => {
                    nextPoint(); // Move to the next point after 1.5 seconds
                }, 1500);
            } else {
                resultElement.textContent = "Incorrect. Please try again.";
                resultElement.style.color = 'red';
            }
        }

        // Function to be called when the page loads
        function onPageLoad() {
            showQuizForPoint(currentPointIndex);
        }

        window.onload = onPageLoad;

    </script>


</body>

</html>